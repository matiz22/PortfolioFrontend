@if (submitted() === null) {
  <form (ngSubmit)="onSubmit()" [formGroup]="contactForm">
    <div class="form-container">

      <mat-form-field appearance="fill">
        <mat-label i18n="@@contactLabelName">Enter your name</mat-label>
        <input
          (blur)="onBlur('name')"
          formControlName="name"
          id="name"
          matInput
          placeholder="Andrew"
          i18n-placeholder="@@contactPlaceholderName"
        />
        @if (touchedFields['name'] && contactForm.get('name')?.invalid) {
          <mat-error>{{ getErrorMessage('name') }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n="@@contactEmailLabel">Enter your email</mat-label>
        <input
          (blur)="onBlur('email')"
          formControlName="email"
          id="email"
          matInput
          placeholder="yourmail@example.com"
          i18n-placeholder="@@contactEmailPlaceholder"
        />
        @if (touchedFields['email'] && contactForm.get('email')?.invalid) {
          <mat-error>{{ getErrorMessage('email') }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n="@@contactSubjectLabel">Enter your subject</mat-label>
        <input
          (blur)="onBlur('subject')"
          formControlName="subject"
          id="subject"
          matInput
          placeholder="Subject"
          i18n-placeholder="@@contactSubjectPlaceholder"
        />
        @if (touchedFields['subject'] && contactForm.get('subject')?.invalid) {
          <mat-error>{{ getErrorMessage('subject') }}</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label i18n="@@contactMessageLabel">Enter your message</mat-label>
        <textarea
          (blur)="onBlur('message')"
          formControlName="message"
          id="message"
          matInput
          placeholder="Your message..."
          i18n-placeholder="@@contactMessagePlaceholder"
        ></textarea>
        @if (touchedFields['message'] && contactForm.get('message')?.invalid) {
          <mat-error>{{ getErrorMessage('message') }}</mat-error>
        }
      </mat-form-field>

      <div style="display:none;">
        <input autocomplete="off" formControlName="company" id="company" type="text"/>
      </div>

      <button
        color="primary"
        id="submitButton"
        mat-flat-button
        type="submit"
        [disabled]="submitting()"
        i18n="@@submitContactButton"
      >
        Contact
      </button>
    </div>
  </form>

} @else if (submitted() === false) {
  <div class="text-message-container">
    <a href="mailto:mateusz@malich.dev">
      <p i18n="@@submitCrashMessage">Click to reach me out using email</p>
    </a>

  </div>

} @else {
  <div class="text-message-container">
    <p i18n="@@submitSuccessful">Email sent successfully</p>
  </div>
}

